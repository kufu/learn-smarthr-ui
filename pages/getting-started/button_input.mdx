export const meta =  {
  title: 'Button / Inputによるイベントの扱い方',
  description: '',
}

import { Layout } from '@/features/layout'
import { SmartHRUIPreview } from '@/features/smarthr-preview'

export default ({ children }) => <Layout meta={meta}>{children}</Layout>

ここではButtonコンポーネントとInputコンポーネントの使い方を通して、イベントの扱い方を学びます。

イベントとは、ユーザーのキーやマウス入力、ブラウザからの要求に応じて処理を実行するプログラムの動作および概念を指します。
コンポーネントをただ設置するだけでなく、イベントを実装できるようになると、ユーザーとのインタラクションを表現することができます。

## Buttonコンポーネントでイベントを扱う

Buttonコンポーネントの使い方は簡単です。前回のドキュメントで学んだようにButtonをimportして使うだけです。
ただし、Buttonコンポーネントはただ設置するだけでは何も起こりません。

<SmartHRUIPreview
  files={{
    'App.tsx': `import { Button } from 'smarthr-ui'

export default function App() {
  return (
    <Button>わたしを押して</Button>
  )
}`,
  }}
/>

ボタンには何の役割があるでしょうか？

ボタンはユーザーに選択肢を与えます。アプリケーションで行う操作を選択したり、提示されているものの中から選ぶことを可能にします。
本質的に、ボタンは実行可能な操作をユーザーに伝える手段だと言えるでしょう。

ボタンで操作や選択を促すためには、ボタンに対して何らかのイベントを実装する必要があります。
以下は最小の実装ですが、ボタンを押した時にアラートを表示する例です。ボタンを押してみてください。アラートが表示されるはずです。

<SmartHRUIPreview
  files={{
    'App.tsx': `import { Button } from 'smarthr-ui'

export default function App() {
  return (
    <Button variant="primary" onClick={()=> alert('押された！')}>わたしを押して</Button>
  )
}`,
  }}
/>

このコードでは、`onClick`というプロパティに関数（アロー関数式）を渡しています。アロー関数式は`()=> alert('押された！')`の部分です。
`onClick`はボタンがクリックされた時に実行される関数を指定するためのプロパティです。

`onClick`という名前からわかるように、この要素がクリックされたときに何らかの処理を実行することができます。

このコードの場合はボタンがクリックされた時に関数実行され、[alertメソッド](https://developer.mozilla.org/ja/docs/Web/API/Window/alert)が実行されています。

### 関連リンク

[Button | コンポーネント | SmartHR Design System](https://smarthr.design/products/components/button/)


## Inputコンポーネントでイベントを扱う

次はInputコンポーネントでイベントを扱う方法を学びます。
Buttonコンポーネントと同じように、Inputコンポーネントを設置するだけではなにも起こりません。
また、文字の入力はできますがこのコードでは入力された文字を取得することはできません。

<SmartHRUIPreview
  files={{
    'App.tsx': `import { Input } from 'smarthr-ui'

export default function App() {
  return (
    <Input />
  )
}`,
  }}
/>

フォームの役割はユーザーからの入力を受け取ることです。

フォームからデータを受け取るには、入力を受け取るためのイベントと値を実装する必要があります。
以下は最小の実装ですが、フォームに文字を入力したら入力値の隣に入力した文字が表示される例です。

<SmartHRUIPreview
  files={{
    'App.tsx': `import { useState } from 'react'
import { Input } from 'smarthr-ui'

export default function App() {
  const [value, setValue] = useState('')

  return (
    <>
      <Input value={value} onChange={(event)=> setValue(event.target.value)} />
      <p>入力値: {value}</p>
    </>
  )
}`,
  }}
/>

このコードでは`onChange`というプロパティに関数（アロー関数式）を渡しています。アロー関数式は`(event)=> setValue(event.target.value)`の部分です。
`onChange`はフォームの値が変更された時に実行される関数を指定するためのプロパティです。

ここで`useState`という新しい関数が登場していますが、これはReactで提供される機能です。
`useState`を使うことで、状態を管理するための関数と、状態を取得するための変数を同時に定義することができます。

`useState`は`const [状態変数, 状態を変更するための関数] = useState(状態の初期値)`という形で使えます。

一連の処理の流れとして、`onChange`の中で`setValue`関数を実行し、ユーザーが入力した値を`setValue`で受け取り、value変数に格納された値を`<p>入力値: {value}</p>`で表示しています。

`onChange`は一文字入力するたびに実行される関数なので、`value`の値も動的に変更されて表示されます。

`useState`の詳細については[Reactのドキュメント](https://react.dev/reference/react/useState)を参照してください。


### 関連リンク

[Input | コンポーネント | SmartHR Design System](https://smarthr.design/products/components/input/)
